---
import astroLogo from '../assets/astro.svg';
import background from '../assets/background.svg';
import Searchbar from '../components/Searchbar.astro';
import ProjectCard from '../components/ProjectCard.astro';

import Layout from '../layouts/Layout.astro';

const allProjects = await Astro.glob('../projects/*.{md,mdx}');
const projects = allProjects
    .filter((project) => !project.frontmatter.draft && (project.frontmatter.slug || project.frontmatter.link))
    .sort(function(a, b) {
        var c = new Date(a.frontmatter.date);
        var d = new Date(b.frontmatter.date);
        return d-c;
    });
---

<div id="container" class="projects-component">
	<img id="background" src={background.src} alt="" fetchpriority="high" />
    <section id="projects-title">
        <h1>
            Projects
        </h1>
        <h2>Programming, art, and more</h1>
        <!-- <Searchbar /> -->
    </section>

    <section id="projects-grid">
        {projects.map((project) => (
        <ProjectCard project={project}/>
        ))}
    </section>
</div>

<style>
	h1 {
		font-size: 60px;
        margin: 0px;
	}
	h2 {
		font-size: 20px;
	}
</style>

<style is:inline>
    .projects-component
    {
        margin: 20px;

    }

    #projects-grid {
        display: grid;
        grid-template-columns: repeat(1, 1fr);
        gap: 16px;

        /* display: grid; */
        /* grid-template-columns: repeat(3, 1fr); */
        /* justify-content: center; */
        /* justify-items: center; */
        /* gap: 1.5rem; */
        /* margin-top: 2rem; */
    }

    #projects-title
    {
        margin-top: 60px;
        margin-bottom: 30px;
    }

    @media (min-width: 570px) {
        #projects-grid {
            grid-template-columns: repeat(3, 1fr);
            /* background: green; */
        }
    }

    @media (min-width: 1000px) {
        #projects-grid {
            grid-template-columns: repeat(4, 1fr);
            /* background: red; */
        }
    }


	}
</style>
